"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var exceptions_1 = require("./exceptions");
var MoneyUtils = (function () {
    function MoneyUtils() {
    }
    MoneyUtils.toTRY = function (amount) {
        var formatted = amount.toLocaleString("tr-TR", { style: "currency", currency: "TRY", currencyDisplay: "code" });
        formatted = formatted.replace(/TRY|,|\s+/gi, "");
        formatted = formatted.replace(/\./i, ",");
        return MoneyUtils.validate(formatted);
    };
    MoneyUtils.toNumber = function (amount) {
        var formatted = MoneyUtils.validate(amount).replace(",", ".");
        formatted = formatted.replace(/[^\d\.]/i, "");
        return parseFloat(formatted);
    };
    MoneyUtils.validate = function (amount) {
        var split = amount.split(",");
        if (amount.indexOf(".") > -1 || split.length !== 2 || split[1].length !== 2) {
            throw new exceptions_1.MoneyUtilException("Input validation error.");
        }
        return amount;
    };
    return MoneyUtils;
}());
exports.MoneyUtils = MoneyUtils;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9uZXlVdGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tb25leVV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsMkNBQWdEO0FBRWhEO0lBQUE7SUFxQkEsQ0FBQztJQXBCaUIsZ0JBQUssR0FBbkIsVUFBb0IsTUFBYztRQUM5QixJQUFJLFNBQVMsR0FBVyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxFQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUN0SCxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakQsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFYSxtQkFBUSxHQUF0QixVQUF1QixNQUFjO1FBQ2pDLElBQUksU0FBUyxHQUFXLFVBQVUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN0RSxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRWEsbUJBQVEsR0FBdEIsVUFBdUIsTUFBYztRQUNqQyxJQUFNLEtBQUssR0FBYSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFFLE1BQU0sSUFBSSwrQkFBa0IsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQzVELENBQUM7UUFDRCxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFDTCxpQkFBQztBQUFELENBQUMsQUFyQkQsSUFxQkM7QUFyQlksZ0NBQVUiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgIFTDvG1heSDDh2ViZXIgPHR1bWF5Y2ViZXJAZ21haWwuY29tPlxuICogQGxpbmsgICAgaHR0cHM6Ly9naXRodWIuY29tL2JyZW5kdHVtaS9ia21leHByZXNzXG4gKiBAbGljZW5zZSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKiBAZGF0ZSAyOC4wNC4yMDE3XG4gKi9cbmltcG9ydCB7TW9uZXlVdGlsRXhjZXB0aW9ufSBmcm9tIFwiLi9leGNlcHRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBNb25leVV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIHRvVFJZKGFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGZvcm1hdHRlZDogc3RyaW5nID0gYW1vdW50LnRvTG9jYWxlU3RyaW5nKFwidHItVFJcIiwge3N0eWxlOiBcImN1cnJlbmN5XCIsIGN1cnJlbmN5OiBcIlRSWVwiLCBjdXJyZW5jeURpc3BsYXk6IFwiY29kZVwifSk7XG4gICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9UUll8LHxcXHMrL2dpLCBcIlwiKTtcbiAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoL1xcLi9pLCBcIixcIik7XG4gICAgICAgIHJldHVybiBNb25leVV0aWxzLnZhbGlkYXRlKGZvcm1hdHRlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0b051bWJlcihhbW91bnQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQ6IHN0cmluZyA9IE1vbmV5VXRpbHMudmFsaWRhdGUoYW1vdW50KS5yZXBsYWNlKFwiLFwiLCBcIi5cIik7XG4gICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9bXlxcZFxcLl0vaSwgXCJcIik7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGZvcm1hdHRlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZShhbW91bnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNwbGl0OiBzdHJpbmdbXSA9IGFtb3VudC5zcGxpdChcIixcIik7XG4gICAgICAgIGlmIChhbW91bnQuaW5kZXhPZihcIi5cIikgPiAtMSB8fCBzcGxpdC5sZW5ndGggIT09IDIgfHwgc3BsaXRbMV0ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9uZXlVdGlsRXhjZXB0aW9uKFwiSW5wdXQgdmFsaWRhdGlvbiBlcnJvci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFtb3VudDtcbiAgICB9XG59Il19