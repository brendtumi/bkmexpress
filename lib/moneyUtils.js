"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var exceptions_1 = require("./exceptions");
var MoneyUtils = (function () {
    function MoneyUtils() {
    }
    MoneyUtils.toTRY = function (amount) {
        var formatted = amount.toLocaleString("tr-TR", { style: "currency", currency: "TRY", currencyDisplay: "code" });
        formatted = formatted.replace(/,/i, "");
        formatted = formatted.replace("TRY", "");
        formatted = formatted.replace(/\./i, ",");
        return MoneyUtils.validate(formatted);
    };
    MoneyUtils.toNumber = function (amount) {
        var formatted = MoneyUtils.validate(amount).replace(",", ".");
        formatted = formatted.replace(/[^\d\.]/i, "");
        return parseFloat(formatted);
    };
    MoneyUtils.validate = function (amount) {
        var split = amount.split(",");
        if (amount.indexOf(".") > -1 || split.length !== 2 || split[1].length !== 2) {
            throw new exceptions_1.MoneyUtilException("Input validation error.");
        }
        return amount;
    };
    return MoneyUtils;
}());
exports.MoneyUtils = MoneyUtils;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9uZXlVdGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tb25leVV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsMkNBQWdEO0FBRWhEO0lBQUE7SUFzQkEsQ0FBQztJQXJCaUIsZ0JBQUssR0FBbkIsVUFBb0IsTUFBYztRQUM5QixJQUFJLFNBQVMsR0FBVyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxFQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUN0SCxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDeEMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLFNBQVMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRWEsbUJBQVEsR0FBdEIsVUFBdUIsTUFBYztRQUNqQyxJQUFJLFNBQVMsR0FBVyxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDdEUsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVhLG1CQUFRLEdBQXRCLFVBQXVCLE1BQWM7UUFDakMsSUFBTSxLQUFLLEdBQWEsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRSxNQUFNLElBQUksK0JBQWtCLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUM1RCxDQUFDO1FBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQUFDLEFBdEJELElBc0JDO0FBdEJZLGdDQUFVIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAYXV0aG9yICBUw7xtYXkgw4dlYmVyIDx0dW1heWNlYmVyQGdtYWlsLmNvbT5cbiAqIEBsaW5rICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9icmVuZHR1bWkvYmttZXhwcmVzc1xuICogQGxpY2Vuc2UgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICogQGRhdGUgMjguMDQuMjAxN1xuICovXG5pbXBvcnQge01vbmV5VXRpbEV4Y2VwdGlvbn0gZnJvbSBcIi4vZXhjZXB0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgTW9uZXlVdGlscyB7XG4gICAgcHVibGljIHN0YXRpYyB0b1RSWShhbW91bnQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQ6IHN0cmluZyA9IGFtb3VudC50b0xvY2FsZVN0cmluZyhcInRyLVRSXCIsIHtzdHlsZTogXCJjdXJyZW5jeVwiLCBjdXJyZW5jeTogXCJUUllcIiwgY3VycmVuY3lEaXNwbGF5OiBcImNvZGVcIn0pO1xuICAgICAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvLC9pLCBcIlwiKTtcbiAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoXCJUUllcIiwgXCJcIik7XG4gICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKC9cXC4vaSwgXCIsXCIpO1xuICAgICAgICByZXR1cm4gTW9uZXlVdGlscy52YWxpZGF0ZShmb3JtYXR0ZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9OdW1iZXIoYW1vdW50OiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBsZXQgZm9ybWF0dGVkOiBzdHJpbmcgPSBNb25leVV0aWxzLnZhbGlkYXRlKGFtb3VudCkucmVwbGFjZShcIixcIiwgXCIuXCIpO1xuICAgICAgICBmb3JtYXR0ZWQgPSBmb3JtYXR0ZWQucmVwbGFjZSgvW15cXGRcXC5dL2ksIFwiXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChmb3JtYXR0ZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGUoYW1vdW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBzcGxpdDogc3RyaW5nW10gPSBhbW91bnQuc3BsaXQoXCIsXCIpO1xuICAgICAgICBpZiAoYW1vdW50LmluZGV4T2YoXCIuXCIpID4gLTEgfHwgc3BsaXQubGVuZ3RoICE9PSAyIHx8IHNwbGl0WzFdLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmV5VXRpbEV4Y2VwdGlvbihcIklucHV0IHZhbGlkYXRpb24gZXJyb3IuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgfVxufSJdfQ==